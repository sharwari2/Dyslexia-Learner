{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport API from '../api';\nexport default function LessonPlayer({\n  lesson,\n  user,\n  onClose\n}) {\n  _s();\n  const [isSpeaking, setIsSpeaking] = useState(false);\n  const [rate, setRate] = useState(0.9);\n  useEffect(() => {\n    return () => stopSpeak();\n  }, []);\n  function speak(text) {\n    if (!('speechSynthesis' in window)) return alert('TTS not supported in this browser');\n    stopSpeak();\n    const u = new SpeechSynthesisUtterance(text);\n    u.lang = 'en-US';\n    u.rate = rate;\n    u.onend = () => setIsSpeaking(false);\n    setIsSpeaking(true);\n    window.speechSynthesis.speak(u);\n  }\n  function stopSpeak() {\n    window.speechSynthesis.cancel();\n    setIsSpeaking(false);\n  }\n  async function markComplete() {\n    if (!user) return alert('Please login to save progress');\n    try {\n      await API('/api/progress', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          userId: user.id,\n          userRole: user.role,\n          lesson: lesson._id,\n          completed: true,\n          score: 100\n        })\n      });\n      alert('Progress saved');\n    } catch (err) {\n      alert('Could not save progress');\n    }\n  }\n}\n_s(LessonPlayer, \"HkZR21I5gl6OAM19ooJe5ZwbhOw=\");\n_c = LessonPlayer;\nvar _c;\n$RefreshReg$(_c, \"LessonPlayer\");","map":{"version":3,"names":["React","useState","useEffect","API","LessonPlayer","lesson","user","onClose","_s","isSpeaking","setIsSpeaking","rate","setRate","stopSpeak","speak","text","window","alert","u","SpeechSynthesisUtterance","lang","onend","speechSynthesis","cancel","markComplete","method","headers","body","JSON","stringify","userId","id","userRole","role","_id","completed","score","err","_c","$RefreshReg$"],"sources":["C:/Users/HP/Downloads/DyslexiaLearner/frontend/src/components/LessonPlayer.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport API from '../api';\nexport default function LessonPlayer({ lesson, user, onClose }){\n  const [isSpeaking,setIsSpeaking] = useState(false);\n  const [rate,setRate] = useState(0.9);\n  useEffect(()=>{ return ()=> stopSpeak(); },[]);\n  function speak(text){\n    if(!('speechSynthesis' in window)) return alert('TTS not supported in this browser');\n    stopSpeak();\n    const u = new SpeechSynthesisUtterance(text);\n    u.lang = 'en-US';\n    u.rate = rate;\n    u.onend = ()=> setIsSpeaking(false);\n    setIsSpeaking(true);\n    window.speechSynthesis.speak(u);\n  }\n  function stopSpeak(){ window.speechSynthesis.cancel(); setIsSpeaking(false); }\n  async function markComplete(){\n    if(!user) return alert('Please login to save progress');\n    try{\n      await API('/api/progress',{ method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ userId: user.id, userRole: user.role, lesson: lesson._id, completed:true, score:100 }) });\n      alert('Progress saved');\n    }catch(err){ alert('Could not save progress'); }\n  }\n  \n}"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,GAAG,MAAM,QAAQ;AACxB,eAAe,SAASC,YAAYA,CAAC;EAAEC,MAAM;EAAEC,IAAI;EAAEC;AAAQ,CAAC,EAAC;EAAAC,EAAA;EAC7D,MAAM,CAACC,UAAU,EAACC,aAAa,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC;EAClD,MAAM,CAACU,IAAI,EAACC,OAAO,CAAC,GAAGX,QAAQ,CAAC,GAAG,CAAC;EACpCC,SAAS,CAAC,MAAI;IAAE,OAAO,MAAKW,SAAS,CAAC,CAAC;EAAE,CAAC,EAAC,EAAE,CAAC;EAC9C,SAASC,KAAKA,CAACC,IAAI,EAAC;IAClB,IAAG,EAAE,iBAAiB,IAAIC,MAAM,CAAC,EAAE,OAAOC,KAAK,CAAC,mCAAmC,CAAC;IACpFJ,SAAS,CAAC,CAAC;IACX,MAAMK,CAAC,GAAG,IAAIC,wBAAwB,CAACJ,IAAI,CAAC;IAC5CG,CAAC,CAACE,IAAI,GAAG,OAAO;IAChBF,CAAC,CAACP,IAAI,GAAGA,IAAI;IACbO,CAAC,CAACG,KAAK,GAAG,MAAKX,aAAa,CAAC,KAAK,CAAC;IACnCA,aAAa,CAAC,IAAI,CAAC;IACnBM,MAAM,CAACM,eAAe,CAACR,KAAK,CAACI,CAAC,CAAC;EACjC;EACA,SAASL,SAASA,CAAA,EAAE;IAAEG,MAAM,CAACM,eAAe,CAACC,MAAM,CAAC,CAAC;IAAEb,aAAa,CAAC,KAAK,CAAC;EAAE;EAC7E,eAAec,YAAYA,CAAA,EAAE;IAC3B,IAAG,CAAClB,IAAI,EAAE,OAAOW,KAAK,CAAC,+BAA+B,CAAC;IACvD,IAAG;MACD,MAAMd,GAAG,CAAC,eAAe,EAAC;QAAEsB,MAAM,EAAC,MAAM;QAAEC,OAAO,EAAC;UAAC,cAAc,EAAC;QAAkB,CAAC;QAAEC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAEC,MAAM,EAAExB,IAAI,CAACyB,EAAE;UAAEC,QAAQ,EAAE1B,IAAI,CAAC2B,IAAI;UAAE5B,MAAM,EAAEA,MAAM,CAAC6B,GAAG;UAAEC,SAAS,EAAC,IAAI;UAAEC,KAAK,EAAC;QAAI,CAAC;MAAE,CAAC,CAAC;MACxMnB,KAAK,CAAC,gBAAgB,CAAC;IACzB,CAAC,QAAMoB,GAAG,EAAC;MAAEpB,KAAK,CAAC,yBAAyB,CAAC;IAAE;EACjD;AAEF;AAACT,EAAA,CAvBuBJ,YAAY;AAAAkC,EAAA,GAAZlC,YAAY;AAAA,IAAAkC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}